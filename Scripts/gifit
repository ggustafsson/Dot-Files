#!/usr/bin/env zsh

# Written by GÃ¶ran Gustafsson <gustafsson.g@gmail.com>.

# Description: This script creates an animated gif image of several images.

# Usage: gifit <file1> <file2> ...
#        gifit *.jpg

if [[ ! $# -gt 1 ]]; then
  echo "Usage: $0:t [FILENAMES]..."
  exit
fi

for file_input in $*; do
  if [[ ! -f $file_input ]]; then
    echo "File '$file_input' does not exist!"
    return 1
  fi
done

file_output=animated_$(date '+%Y-%m-%d_%H%M').gif
convert -delay 30 -loop 0 $* $file_output

[[ $OSTYPE == darwin* ]] && open -a Safari $file_output
